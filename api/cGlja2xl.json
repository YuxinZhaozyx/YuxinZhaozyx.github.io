{"title":"Pickle Python对象序列化","date":"2019-10-20T00:50:03.000Z","link":"pickle","comments":true,"tags":["pickle","python"],"categories":["programming-language"],"updated":"2022-01-04T08:35:48.615Z","content":"<p>pickle 是一个用于序列化 Python 对象的库，它可以序列化任何对象并将其保存到文件中，需要时再将其从文件中读出。本文将介绍如何使用 pickle 序列化 python 对象。</p>\n<a id=\"more\"></a>\n\n\n\n<h1 id=\"保存python对象到文件\">保存python对象到文件<a href=\"pickle#保存python对象到文件\"></a></h1><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> pickle</span><br><span class=\"line\"></span><br><span class=\"line\">obj = &#123;<span class=\"string\">\"pickle\"</span>: <span class=\"string\">\"test\"</span>&#125;  <span class=\"comment\"># 可以是任何对象，包括自定义的类对象</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">with</span> open(<span class=\"string\">'file.pkl'</span>, <span class=\"string\">'wb'</span>) <span class=\"keyword\">as</span> f:</span><br><span class=\"line\">    pickle.dump(obj, f)  <span class=\"comment\"># 将obj序列化后保存到文件f中，f只要是有write方法的对象都可以</span></span><br></pre></td></tr></table></div></figure>\n\n<h1 id=\"从文件读取python对象\">从文件读取python对象<a href=\"pickle#从文件读取python对象\"></a></h1><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> pickle</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">with</span> open(<span class=\"string\">'file.pkl'</span>, <span class=\"string\">'rb'</span>) <span class=\"keyword\">as</span> f:</span><br><span class=\"line\">    obj = pickle.load(f)  <span class=\"comment\"># 从f中读取obj, 如果读取的是自定义的类对象，则要求读取时已经对该类进行定义</span></span><br></pre></td></tr></table></div></figure>\n\n<h1 id=\"参考资料\">参考资料<a href=\"pickle#参考资料\"></a></h1><ul>\n<li><a href=\"https://docs.python.org/2/library/pickle.html\" target=\"_blank\" rel=\"noopener\">官方文档</a></li>\n<li><a href=\"https://wiki.python.org/moin/UsingPickle\" target=\"_blank\" rel=\"noopener\">Python Wiki</a></li>\n</ul>\n","prev":{"title":"Linux nohup 后台执行指令","link":"linux-command-nohup"},"next":{"title":"字符串匹配技术之 Horspool算法和Boyer-Moore算法","link":"horspool-boyer-moore"},"plink":"https://yuxinzhao.net/pickle/","toc":[{"title":"保存python对象到文件","id":"保存python对象到文件","index":"1"},{"title":"从文件读取python对象","id":"从文件读取python对象","index":"2"},{"title":"参考资料","id":"参考资料","index":"3"}],"reward":true,"copyright":{"author":"Yuxin Zhao","link":"<a href=\"https://yuxinzhao.net/pickle/\" title=\"Pickle Python对象序列化\">https://yuxinzhao.net/pickle/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}