{"title":"What is IoU","date":"2019-07-15T20:20:32.000Z","link":"what-is-IoU","comments":true,"tags":["IoU","metric"],"categories":["machine-learning"],"updated":"2022-01-04T08:35:48.655Z","content":"<p>在目标检测任务中常常用IoU来计算预测窗口与真实窗口的交叠率。本文介绍IoU的概念。</p>\n<a id=\"more\"></a>\n\n<p><img src=\"./what-is-IoU/featured.png\" alt class=\"article-img\"></p>\n<p>IoU (Intersection over Union, 交并比) 是两个窗口的交集与并集面积之比。</p>\n<ul>\n<li>区域 Region-1 与 Region-2 的交集如上图黄色区域</li>\n<li>区域 Region-1 与 Region-2 的并集如上图绿色区域</li>\n</ul>\n<p><strong>IoU计算公式</strong>:</p>\n<p style=\"text-align:center\"><svg xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"27.843ex\" height=\"5.843ex\" style=\"vertical-align: -2.338ex;\" viewbox=\"0 -1508.9 11987.7 2515.6\" role=\"img\" focusable=\"false\" xmlns=\"http://www.w3.org/2000/svg\" aria-labelledby=\"MathJax-SVG-1-Title\">\n<title id=\"MathJax-SVG-1-Title\">IoU = \\frac{\\text{Region-1} \\cap \\text{Region-2}}{\\text{Region-1} \\cup \\text{Region-2}}</title>\n<defs aria-hidden=\"true\">\n<path stroke-width=\"1\" id=\"E1-MJMATHI-49\" d=\"M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z\"/>\n<path stroke-width=\"1\" id=\"E1-MJMATHI-6F\" d=\"M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z\"/>\n<path stroke-width=\"1\" id=\"E1-MJMATHI-55\" d=\"M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z\"/>\n<path stroke-width=\"1\" id=\"E1-MJMAIN-3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\"/>\n<path stroke-width=\"1\" id=\"E1-MJMAIN-52\" d=\"M130 622Q123 629 119 631T103 634T60 637H27V683H202H236H300Q376 683 417 677T500 648Q595 600 609 517Q610 512 610 501Q610 468 594 439T556 392T511 361T472 343L456 338Q459 335 467 332Q497 316 516 298T545 254T559 211T568 155T578 94Q588 46 602 31T640 16H645Q660 16 674 32T692 87Q692 98 696 101T712 105T728 103T732 90Q732 59 716 27T672 -16Q656 -22 630 -22Q481 -16 458 90Q456 101 456 163T449 246Q430 304 373 320L363 322L297 323H231V192L232 61Q238 51 249 49T301 46H334V0H323Q302 3 181 3Q59 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM491 499V509Q491 527 490 539T481 570T462 601T424 623T362 636Q360 636 340 636T304 637H283Q238 637 234 628Q231 624 231 492V360H289Q390 360 434 378T489 456Q491 467 491 499Z\"/>\n<path stroke-width=\"1\" id=\"E1-MJMAIN-65\" d=\"M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z\"/>\n<path stroke-width=\"1\" id=\"E1-MJMAIN-67\" d=\"M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z\"/>\n<path stroke-width=\"1\" id=\"E1-MJMAIN-69\" d=\"M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z\"/>\n<path stroke-width=\"1\" id=\"E1-MJMAIN-6F\" d=\"M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z\"/>\n<path stroke-width=\"1\" id=\"E1-MJMAIN-6E\" d=\"M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z\"/>\n<path stroke-width=\"1\" id=\"E1-MJMAIN-2D\" d=\"M11 179V252H277V179H11Z\"/>\n<path stroke-width=\"1\" id=\"E1-MJMAIN-31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\"/>\n<path stroke-width=\"1\" id=\"E1-MJMAIN-2229\" d=\"M88 -21T75 -21T55 -7V200Q55 231 55 280Q56 414 60 428Q61 430 61 431Q77 500 152 549T332 598Q443 598 522 544T610 405Q611 399 611 194V-7Q604 -22 591 -22Q582 -22 572 -9L570 405Q563 433 556 449T529 485Q498 519 445 538T334 558Q251 558 179 518T96 401Q95 396 95 193V-7Q88 -21 75 -21Z\"/>\n<path stroke-width=\"1\" id=\"E1-MJMAIN-32\" d=\"M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z\"/>\n<path stroke-width=\"1\" id=\"E1-MJMAIN-222A\" d=\"M591 598H592Q604 598 611 583V376Q611 345 611 296Q610 162 606 148Q605 146 605 145Q586 68 507 23T333 -22Q268 -22 209 -1T106 66T56 173Q55 180 55 384L56 585Q66 598 75 598Q85 598 95 585V378L96 172L98 162Q112 95 181 57T332 18Q415 18 487 58T570 175Q571 180 571 383V583Q579 598 591 598Z\"/>\n</defs>\n<g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"matrix(1 0 0 -1 0 0)\" aria-hidden=\"true\">\n <use xlink:href=\"#E1-MJMATHI-49\" x=\"0\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMATHI-6F\" x=\"504\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMATHI-55\" x=\"990\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-3D\" x=\"2035\" y=\"0\"/>\n<g transform=\"translate(2813,0)\">\n<g transform=\"translate(120,0)\">\n<rect stroke=\"none\" width=\"8933\" height=\"60\" x=\"0\" y=\"220\"/>\n<g transform=\"translate(60,726)\">\n <use xlink:href=\"#E1-MJMAIN-52\"/>\n <use xlink:href=\"#E1-MJMAIN-65\" x=\"736\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-67\" x=\"1181\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-69\" x=\"1681\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-6F\" x=\"1960\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-6E\" x=\"2460\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-2D\" x=\"3017\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-31\" x=\"3350\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-2229\" x=\"4073\" y=\"0\"/>\n<g transform=\"translate(4962,0)\">\n <use xlink:href=\"#E1-MJMAIN-52\"/>\n <use xlink:href=\"#E1-MJMAIN-65\" x=\"736\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-67\" x=\"1181\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-69\" x=\"1681\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-6F\" x=\"1960\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-6E\" x=\"2460\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-2D\" x=\"3017\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-32\" x=\"3350\" y=\"0\"/>\n</g>\n</g>\n<g transform=\"translate(60,-704)\">\n <use xlink:href=\"#E1-MJMAIN-52\"/>\n <use xlink:href=\"#E1-MJMAIN-65\" x=\"736\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-67\" x=\"1181\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-69\" x=\"1681\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-6F\" x=\"1960\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-6E\" x=\"2460\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-2D\" x=\"3017\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-31\" x=\"3350\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-222A\" x=\"4073\" y=\"0\"/>\n<g transform=\"translate(4962,0)\">\n <use xlink:href=\"#E1-MJMAIN-52\"/>\n <use xlink:href=\"#E1-MJMAIN-65\" x=\"736\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-67\" x=\"1181\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-69\" x=\"1681\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-6F\" x=\"1960\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-6E\" x=\"2460\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-2D\" x=\"3017\" y=\"0\"/>\n <use xlink:href=\"#E1-MJMAIN-32\" x=\"3350\" y=\"0\"/>\n</g>\n</g>\n</g>\n</g>\n</g>\n</svg></p>\n","prev":{"title":"PR/ROC曲线及其相关性能评价指标","link":"pr-roc"},"next":{"title":"What is RoI pooling","link":"what-is-RoI-pooling"},"plink":"https://yuxinzhao.net/what-is-IoU/","reward":true,"copyright":{"author":"Yuxin Zhao","link":"<a href=\"https://yuxinzhao.net/what-is-IoU/\" title=\"What is IoU\">https://yuxinzhao.net/what-is-IoU/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}